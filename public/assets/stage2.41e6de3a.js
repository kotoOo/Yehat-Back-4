var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;"undefined"!=typeof require&&require;import{e as r,d as a,c as n,s,u as i,r as c,n as l,a as d,i as u,h as p,p as m,b as f,w as g,f as h,o as y,g as v,j as b,F as E,k as A,l as w,m as I,q as _,t as k,v as C,x as O,_ as D}from"./index.154289d4.js";ecs.define("cargo",{cursor:null},{details:'Memory Cell for [Cargo]. "cursor" is index of a stored item to show.'}),ecs.define("entEditConf0",{compoCursor:0,compoEditing:null,showSlot:!1,showEntityScheme:!0},{details:'Memory Cell for [Entity Editor]. "compoCursor" is a currently active component index within \nan Entity being browsed.'}),r.define("user2",{eventID:null,refID:null,name:"Unknown",deviceIDs:[]});r.declareType("User2",(a=>{var n=a,{id:s,user2:i}=n;((r,a)=>{var n={};for(var s in r)t.call(r,s)&&a.indexOf(s)<0&&(n[s]=r[s]);if(null!=r&&e)for(var s of e(r))a.indexOf(s)<0&&o.call(r,s)&&(n[s]=r[s])})(n,["id","user2"]);return r.loadEntity([r.compo.user2(i),r.compo.meta({type:"User2",name:"Promotion-Aquired User"}),r.compo.saveRemote({user2:!0})])({id:s})}),{details:"Promotion-Aquired User"});const{loadEntity:P,define:j}=ecs;j("meta",{type:"Unknown",name:"No name",tags:[]},{details:'General meta-information about an Entity, such its "type" (archetype, classification of the Entity Class \n  amongst other Entity Classes), and its "name" (Entity Class name, arbitrary).'});const R=j("located",{rel:null,pos:[0,0,0],size:[0,0]},{details:"Entity's parent container ID and Vector3 position inside of it."}),S=j("item",{baseComponent:"IAbstract",inventoryComponent:null,cargoStyle:null,style:null,show:!1,opened:!1,baseIcon:null,baseImage:null,name:""},{details:"Makes entity renderable on ZII Table3."}),L=j("drag",{active:!1,pos:[0,0],onDrop:e=>()=>{}},{details:"Keep information about how an Entity is being dragged."}),x=j("activity",{dtLastTouched:null,count:0,z:0},{details:"Used to track activity of ZII Table 3 items, namely for maintain their z-order.",tags:["zt3"]});ecs.declareCompoSet("AbstractItem",[R(),S(),L(),x(),ecs.compo.saveLocal({located:!0})],{details:"Mix it in to add all Item components: Located, Item, Drag, Activity, saveLocal = { located: true }"}),ecs.define("we",{solid:!1,portPickRequested:!1},{details:"World Entity."}),ecs.define("password0",{password:null,valid:!0},{details:"A password"}),ecs.declareType("Password0",[ecs.compo.meta({name:"Linking Password",type:"Password0"}),ecs.compo.password0(),ecs.compo.connections({owner:null})]),ecs.define("sync0",{status:"local",mode:"passive"},{details:"Workshop Entity synchronization."}),ecs.define("owner0",{memberID:null,access:"private"},{details:"Entity Ownership"}),r.define("image3",{urls:[],size:[0,0],pos:[0,0,0],isoPos:[0,0,0],shift:[0,0],origin:[0,0,0],images:[],index:0,opacity:1,drawOpacity:1,opacitySpeed:.04,log:!1,load:e=>async()=>{e.image3.log&&console.log("}image3{ loading.",e.image3.urls),e.image3.images=[];for(let t in e.image3.urls){let o=e.image3.urls[t],r=new Image;await new Promise(((a,n)=>{r.onload=a,e.image3.log&&console.log("}image3{ loading SRC set",o,t),r.src=o})),e.image3.log&&console.log("}image3{ Loaded image",o,t),e.image3.images.push(r)}if(e.embeddings)for(let t in e.embeddings){let o=e.embeddings[t],r=new Image;r.onload=()=>{o.image=r},r.src=o.url}},render:e=>({ctx:t,camera:o,mouse:a,canvas0:n,now:s})=>{const i=e.image3.index;if(!e.image3.images.length)return void(e.image3.log&&console.log(`}image3{ ${e.id.slice(0,8)} No images loaded.`));if(!e.image3.images[i])return void(e.image3.log&&console.log(`}image3{ ${e.id.slice(0,8)} No active image loaded.`));let{size:c,shift:l}=e.image3,d=[12*e.image3.origin[0],12*e.image3.origin[1],12*e.image3.origin[2]],u=[12*e.located.pos[0],12*e.located.pos[1],0];const p=r.root["bd387635-71ac-4faa-b7a2-a5e2ddb5e123"];if(p.wield0.entityID&&p.wield0.entityID==e.id){const e=300,t=core.ease.inCubic(Math.min((s-p.wield0.dtStart)/e,1)),{lerp:o}=core;u=[o(u[0],p.unit0.pos[0],t),o(u[1],p.unit0.pos[1],t),o(u[2],p.unit0.pos[2],t)],l=[0,o(l[1],-24,t)]}else if(p.throw0.entityID&&p.throw0.entityID==e.id){const e=300,t=core.ease.outCubic(Math.min((s-p.throw0.dtStart)/e,1)),{lerp:o}=core;u=[o(p.unit0.pos[0],u[0],t),o(p.unit0.pos[1],u[1],t),o(p.unit0.pos[2],u[2],t)],l=[0,o(-24,l[1],t)]}const m=(([e,t,o=0,r=0])=>[2*e-2*t+288-Math.floor(o/2),e+t+240-Math.floor(r/2)])([d[0]+u[0],d[1]+u[1],c[0],c[1]]),f=[m[0]+l[0]-2*o.pos[0]+2*o.pos[1],m[1]+l[1]-o.pos[0]-o.pos[1]];if(t.globalAlpha=e.image3.drawOpacity,t.drawImage(e.image3.images[i],f[0],f[1]),e.embeddings){const o=Object.values(e.embeddings).sort(((e,t)=>e.order-t.order));for(let e of o)e.image&&(e.crop?t.drawImage(e.image,...e.crop,f[0]+e.shift2D[0],f[1]+e.shift2D[1],e.crop[2],e.crop[3]):t.drawImage(e.image,f[0]+e.shift2D[0],f[1]+e.shift2D[1]))}if(p.preconnect0&&p.preconnect0.entityAID==e.id&&null!==p.preconnect0.entityAPort){const e=p.embeddings[p.preconnect0.entityAPort];e&&e.image&&t.drawImage(e.image,...e.crop,f[0]+e.shift2D[0],f[1]+e.shift2D[1],e.crop[2],e.crop[3])}t.globalAlpha=1;const g=[Math.round((a.mouse0.pos[0]-n[0])/n[4]),Math.round((a.mouse0.pos[1]-n[1])/n[4])];return{isPointed:f[0]<=g[0]&&f[0]+c[0]>g[0]&&f[1]<=g[1]&&f[1]+c[1]>g[1]}},update:e=>({})=>{e.image3.opacity>e.image3.drawOpacity?e.image3.drawOpacity=Math.min(e.image3.drawOpacity+e.image3.opacitySpeed,e.image3.opacity):e.image3.opacity<e.image3.drawOpacity&&(e.image3.drawOpacity=Math.max(e.image3.drawOpacity-e.image3.opacitySpeed,e.image3.opacity))}},{details:"A world-positioned image."}),ecs.compo.timer;const T=.5;ecs.define("stage0",{items:[],equip:e=>()=>{for(let t of e.stage0.items){let e=Object.keys(t)[0];t.render=t[e].render(t),t[e].load&&t[e].load(t)(),t[e].init&&(t.init=t[e].init(t)),t[e].update&&(t.update=t[e].update(t))}}},{details:""}),ecs.define("line0",{origin:[0,0],p0:[0,0],p1:[0,0],render:e=>({ctx:t})=>{const{origin:o,p0:r,p1:a}=e.line0;t.beginPath(),t.lineWidth=1,t.lineCap="square",t.lineJoin="round",t.strokeStyle="#ffffff",t.imageSmoothingEnabled=!1,t.moveTo(o[0]+r[0]+T,o[1]+r[1]+T),t.lineTo(o[0]+a[0]+T,o[1]+a[1]+T),t.lineCap="square",t.stroke()}},{details:""}),ecs.define("poly0",{origin:[0,0],points:[],render:e=>({ctx:t})=>{const{origin:o,points:r}=e.poly0;t.beginPath(),t.lineWidth=1,t.lineCap="square",t.lineJoin="round",t.strokeStyle="#ffffff",t.imageSmoothingEnabled=!1;for(let e=0;e<r.length;e++){let a=r[e];0==e?t.moveTo(o[0]+a[0]+T,o[1]+a[1]+T):t.lineTo(o[0]+a[0]+T,o[1]+a[1]+T)}t.stroke()}},{details:""}),ecs.define("image0",{url:"",size:[0,0],pos:[0,0,0],origin:[0,0,0],image:null,flag:!1,atWorld:!1,load:e=>()=>{e.image0.flag&&console.log("image0 loading!!",e.image0.url);const t=new Image;return new Promise(((o,r)=>{t.onload=()=>{e.image0.image=t,o()},t.src=e.image0.url}))},render:e=>({ctx:t,camera:o})=>{if(!e.image0.image)return;const{origin:r,pos:a}=e.image0;e.image0.atWorld?t.drawImage(e.image0.image,r[0]+a[0]-2*o.pos[0]+2*o.pos[1],r[1]+a[1]-o.pos[0]-o.pos[1]):t.drawImage(e.image0.image,r[0]+a[0],r[1]+a[1])}},{details:""}),ecs.define("image2",{urls:[],size:[0,0],pos:[0,0,0],isoPos:[0,0,0],origin:[0,0,0],images:[],atWorld:!0,index:0,tags:[],opacity:1,drawOpacity:0,opacitySpeed:.04,flag:!1,load:e=>async()=>{e.image2.flag&&console.log("image0 loading!!",e.image2.urls),e.image2.images=[];for(let t in e.image2.urls){let o=e.image2.urls[t],r=new Image;await new Promise(((a,n)=>{r.onload=a,e.image2.flag&&console.log("image0 loading SRC set",o,t),r.src=o})),e.image2.flag&&console.log("Loaded image",o,t),e.image2.images.push(r)}},render:e=>({ctx:t,camera:o})=>{const r=e.image2.index;if(!e.image2.images.length)return;if(!e.image2.images[r])return;const{origin:a,pos:n}=e.image2;t.globalAlpha=e.image2.drawOpacity,e.image2.atWorld?t.drawImage(e.image2.images[r],a[0]+n[0]-2*o.pos[0]+2*o.pos[1],a[1]+n[1]-o.pos[0]-o.pos[1]):t.drawImage(e.image2.images[r],a[0]+n[0],a[1]+n[1]),t.globalAlpha=1},update:e=>({})=>{e.image2.opacity>e.image2.drawOpacity?e.image2.drawOpacity=Math.min(e.image2.drawOpacity+e.image2.opacitySpeed,1):e.image2.opacity<e.image2.drawOpacity&&(e.image2.drawOpacity=Math.max(e.image2.drawOpacity-e.image2.opacitySpeed,0))}},{details:"A world-positioned image."}),ecs.define("camera0",{pos:[0,0,0]},{details:""}),ecs.define("image1",{url:"",size:[0,0],pos:[0,0,0],rotation:[0,0,0],origin:[0,0,0],image:null,load:e=>()=>{const t=new Image;return new Promise(((o,r)=>{t.onload=()=>{e.image1.image=t,o()},t.src=e.image1.url}))},render:e=>({ctx:t,presentation:o,camera:r})=>{if(!e.image1||!e.image1.image||!e.image1.pos)return;const{origin:a,pos:n}=e.image1;try{const s=(({p:t,origin:r,camera:a})=>{const[n,s,i]=e.image1.pos,c=[n-a.pos[0],s-a.pos[1],i-a.pos[2]],l=32-(c[0]/2+c[1]/2)/4;if(l<=0||l>64)return;const d=32/l,u=[Math.floor((c[0]-c[1])*d+o.scene0.size[0]/2-e.image1.size[0]/2*d),Math.floor((c[0]/2+c[1]/2-c[2]-e.image1.size[1]/2)*d)+192+64-32];return[u[0],u[1],d]})({p:n,origin:a,camera:r});if(!s)return;const[i,c,l]=s;t.drawImage(e.image1.image,0,0,e.image1.size[0],e.image1.size[1],i,c,e.image1.size[0]*l,e.image1.size[1]*l)}catch(s){console.log("error",s)}}},{details:""}),ecs.define("background0",{color:"transparent",render:e=>({ctx:e,presentation:t,camera:o,scene:r})=>{}}),ecs.define("timeline0",{duration:0,events:[]},{details:""}),ecs.define("scene0",{size:[576,320],stages:[],currentStage:null,initStage:e=>({scene:t,stageIndex:o})=>{console.log(`[Presentation] Init stage ${o}`),e.stage0.items=[...e.scene0.stages[o]],e.stage0.equip();for(let r of e.stage0.items)r.init&&r.init({scene:t});e.scene0.currentStage=o},disposeStage:e=>({scene:t})=>{console.log(`[Presentation] Dispose stage ${e.scene0.currentStage}`);for(let o of e.stage0.items)o.dispose&&o.dispose({scene:t});e.stage0.items=[]},render:e=>({ctx:t,scene:o,camera:r,units:a,mouse:n,canvas0:s})=>{const i=+new Date,c=[...e.stage0.items.map((e=>{const t=Object.keys(e)[0];return{pos:e[t].pos,origin:e[t].origin,render:e.render,update:e.update}})),...a];c.map((e=>{e.update&&e.update({now:i})})),c.sort(((e,t)=>e.pos&&t.pos?e.pos[2]!=t.pos[2]?e.pos[2]-t.pos[2]:e.pos[0]+e.pos[1]-t.pos[0]-t.pos[1]:0));let l=null,d=0;for(let{id:u,render:p}of c)if(p){let a=p({ctx:t,presentation:e,scene:o,camera:r,now:i,mouse:n,canvas0:s,now:i});u&&a&&a.isPointed&&(l=u),d++}if(n){n.connections.picked=l;const t=[(n.mouse0.pos[0]-s[0])/s[4]-288,(n.mouse0.pos[1]-s[1])/s[4]-240-18],o=[Math.floor(t[0]+2*t[1])+4*r.pos[0],Math.floor(-t[0]+2*t[1])+4*r.pos[1],0],a=[Math.floor(o[0]/48),Math.floor(o[1]/48),Math.floor(o[2]/48)];n.mouse0.isoPos0=a,e.c&&e.c.worldCursor&&(e.c.worldCursor.located.pos=[a[0],a[1],10])}if(e.connections.actor){const t=ecs.root[e.connections.actor],o=t.unit0.pos;e.stage0.items.filter((e=>!!e.image2&&~e.image2.tags.indexOf("pad0"))).map((e=>{e.image2.isoPos[0]==Math.floor(o[0]/12)&&e.image2.isoPos[1]==Math.floor(o[1]/12)?e.image2.index=1:e.image2.index=0})),ecs.root["27df4209-e8d8-41ca-8a48-951ae9d077c6"],e.stage0.items.filter((e=>!!e.image2&&~e.image2.tags.indexOf("code"))).map((e=>{e.image2.opacity=-4==Math.floor(o[0]/12)&&-4==Math.floor(o[1]/12)?1:0})),e.stage0.items.filter((e=>!!e.image2&&~e.image2.tags.indexOf("wasd"))).map((e=>{e.image2.opacity=0==Math.floor(o[0]/12)&&0==Math.floor(o[1]/12)?1:0})),e.stage0.items.filter((e=>!!e.image2&&~e.image2.tags.indexOf("connectivity"))).map((e=>{e.image2.opacity=-3==Math.floor(o[0]/12)&&-6==Math.floor(o[1]/12)?1:0}));const r=e.connections.me;r&&e.playback0.frame%4==0&&(core.yehat.outbound.push({cmd:"events0.move",id:r,d:[o[0],o[1],o[2],t.unit0.dir]}),core.yehat.transmitOutbound({socket:core.socket}));const a=Math.floor(o[0]/12),n=Math.floor(o[1]/12);12==a&&-17==n&&e.stage0.items.filter((e=>!!e.image2&&!!~e.image2.tags.indexOf("captionActive"))).map((e=>{e.image2.index=0})),15==a&&-18==n&&e.stage0.items.filter((e=>!!e.image2&&!!~e.image2.tags.indexOf("captionActive"))).map((e=>{e.image2.index=1}))}e.c&&e.c.dash0&&(e.c.dash0.presentationDash0.itemsLastFrame=d,e.c.dash0.presentationDash0.unitsCount=a.length)}},{details:"Presentation Scene parameters."}),ecs.define("playback0",{fps:24,dtLastFrame:null,frame:0,tick:e=>({now:t})=>{const o=1e3/e.playback0.fps;e.playback0.dtLastFrame||(e.playback0.dtLastFrame=t-o);let r=t-e.playback0.dtLastFrame;for(;r>o;)e.playback0.frame++,e.playback0.dtLastFrame+=o,r-=o;null!==e.timeline0.duration&&e.playback0.frame>=e.timeline0.duration-1&&(e.timer.stop(),console.log("Playback: Finished."))},start:e=>()=>{const t=performance.now();e.playback0.dtLastFrame=t-1e3/e.playback0.fps,e.playback0.frame=0,e.timer.start()}},{details:""}),ecs.define("presentationDash0",{itemsLastFrame:0,unitsCount:0},{details:""}),a("embedding",{shift2D:[0,0],shift3D:[0,0,0],crop:null,order:1,url:"",image:null},{details:""}),a("embeddings",{loadEmbeddings:e=>()=>{if(e.embeddings)for(let t in e.embeddings){let o=e.embeddings[t],r=new Image;r.onload=()=>{o.image=r},r.src=o.url}}},{details:"Addons that are to be renderred in a World Entity Space."}),console.log("baSICS0/LANG"),r.define("lang",{en:{},ru:{},enchantI:e=>(e.i=n((()=>e.lang[core.yehat.lang])),()=>{})},{details:"Multilingual Content Container"});ecs.define("project0",{name:""},{details:"A Project"}),ecs.define("project0status",{dtRegistered:null,founderID:null},{details:"Server-side status?"}),ecs.define("project0members",{roster:{},isMember:e=>t=>!!e.project0members.roster[t],add:e=>t=>!e.project0members.isMember(t)&&(e.project0members.roster[t]={memberCardID:t,memberName:ecs.root[t].memberCard0.name||"- No name -",roles:[],effects:[]},e.saveLocal.save(),e.saveRemote.save(),!0),banish:e=>t=>!!e.project0members.isMember(t)&&(delete e.project0members.roster[t],e.saveLocal.save(),e.saveRemote.save(),!0),hasRole:e=>(t,o)=>!!e.project0members.isMember(t)&&!!~e.project0members.roster[t].roles.indexOf(o),toggleRole:e=>async(t,o)=>{if(!e.project0members.isMember(t))return!1;if(e.project0members.hasRole(t,o)){const{code:r,details:a}=await core.yehat.ex({cmd:"project0.removeRole",projectID:e.id,memberCardID:t,role:o});if("ok"!==r)return a;{const r=e.project0members.roster[t].roles.indexOf(o);e.project0members.roster[t].roles.splice(r,1)}}else{const{code:r,details:a}=await core.yehat.ex({cmd:"project0.addRole",projectID:e.id,memberCardID:t,role:o});if("ok"!==r)return a;e.project0members.roster[t].roles.push(o)}return e.saveLocal.save(),!0}},{details:"Project Members"}),ecs.declareType("Project",[ecs.compo.project0(),ecs.compo.project0status(),ecs.compo.project0members(),ecs.compo.fav0(),ecs.compo.meta({type:"Project",name:"A Project"}),ecs.compo.connections({owner:null}),ecs.compo.dialog0(),ecs.compo.saveLocal({self:!0,type:"Project",project0:!0,project0members:!0,owner0:!0,connections:!0,saveLocal:!0,tier:!0,fav0:!0}),ecs.compo.saveRemote({project0:!0,project0members:!0}),ecs.compo.tier({base:"proto"}),ecs.compo.item({baseIcon:"data:image/png;base64,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",iconClasses:{"bg-contain":!0},baseComponent:"IProject",inventoryComponent:"ProjectCard0"}),ecs.compo.grid0user({defaultRecord:{size:[16,16]}})],{details:"Project"});ecs.define("cat0",{name:""},{details:"Category settings"}),ecs.declareType("Cat0",[ecs.compo.cat0(),ecs.compo.meta({name:"Category",type:"Cat0"}),ecs.compo.lang({en:{name:""},ru:{name:""}}),ecs.compo.located(),ecs.compo.connections({project:null,webapp:null}),ecs.compo.saveLocal({self:!0,type:"Cat0",cat0:!0,lang:!0,located:!0,connections:!0}),ecs.compo.saveRemote({cat0:!0,lang:!0,located:!0,connections:!0}),ecs.compo.dialog0(),ecs.compo.item({baseComponent:"ICat0",baseIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAhtJREFUaIHt2j1KA0EAhuHPxQtYWWhjKzhHECFnsEgv4kmsbfUCW3gCCyHkBhI2oNgZQ4yFWMdlLeSTMCTZ+d8ZMm8lJK77MLOzk6xALpfL5XK5XKB2uj4Bm4QQDQDM6woAMKvqVk/h+Zy8JIRohBDNvK4wrytcD66Uf3fX43k5Tx5RQstyqHyMJMAuoCxqsEsoixKsA+33TwEAo9ux0rGjAptAdYsCbAMty6EWvlOw7jW6Dhb9Km0yonxNd0TlgoJtr1Gb1ZkFAdtMXdsRlfMKtr2PuhhROS9g0xFdNZouRxdwDCa0KArMFiPjVXf59SinNKF7+4cAgO/PKYDNU1JefU0WqeB7aRmqmoyVf24r+F7aFBpDWmAXUJPrcd2I3p0PAACX92fKx1IChxhRLlBs07QldPzyqv13WsFCiEYXOluMtN4vbzTWZQNlTm9Lz9MHAHobjFULmJwLKHMC1oEu31flaSznEsqswCYjqvI+H1BmBDaFtuUTypTAXx+T/30xkCaUKYF/jt5w0jtWWmB0CgllWlPa9ce1kFCW5KMWm7YOHMXXtKbdPF0AUP8SHkgULENVHpOypMA2UJYE2AWURQ12CWVRgn1AWVRgn1AWBTgElHUKDgllnYJDQlkn4C6gLCi4SygLAo4ByryCY4IyL+AYocwpOGYocwJOAcqswClBmTL4/XGCg97fM6YUoUzphPm/ySxF6Nb2C+PSnLjRkUNKAAAAAElFTkSuQmCC"}),ecs.compo.tier({base:"standard"})]),ecs.declareType("CatDia0",[ecs.compo.meta({name:"Category Dia Lang",type:"CatDia0"}),ecs.compo.lang({en:{title:"Category",noName:"- No Name -"},ru:{title:"Категория",noName:"- Нет названия -"}})]),ecs.create("CatDia0",{id:"SkjCl8KvOsKTQMKiwr9hGg"}),ecs.define("task0",{details:"",remarks:"",head:null,sysop:null,executives:[],priority:1},{details:"A task, a wish, a to-do item."}),ecs.define("work0",{dtStart:null,dtEnd:null,breaks:[],details:"",status:"planned"});const K=ecs.define("session0",{users:[],tasks:[],work:[]});ecs.declareType("Session0",(({id:e,users:t,tasks:o=[],work:r=[]})=>loadEntity([ecs.compo.meta({type:"Session0",name:"Katka"}),K({users:t,tasks:o,work:r}),ecs.compo.timer(),ecs.compo.saveLocal({session0:!0,timer0:!0})])({id:e})),{details:"A KATKA session."}),ecs.define("member0",{memberID:null,name:"",status:"",level:0},{details:"A basic member record, counterpart to user0 on the server side."}),ecs.declareType("Member",[ecs.compo.member0(),ecs.compo.meta({type:"Member",name:"A Member"}),ecs.compo.saveLocal({member0:!0})],{details:"A basic member record."}),ecs.define("camera0",{x:0,y:0,px:0,py:0,cx:0,cy:0,startMove:0,dragged:!1,start:[null,null],point:[null,null],speed:4},{details:"ZIITable4 Camera rebranded."}),ecs.define("camera",{x:0,y:0,px:0,py:0,cx:0,cy:0,startMove:0,dragged:!1,start:[null,null],point:[null,null],speed:4},{details:"ZIITable4 Standard Camera."});
/*!
  * vue-router v4.0.11
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
const M="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,B=e=>M?Symbol(e):"_vr_"+e,U=B("rvlm"),F=B("rvd"),V=B("r"),N=B("rl"),W=B("rvl"),G="undefined"!=typeof window;const q=Object.assign;function J(e,t){const o={};for(const r in t){const a=t[r];o[r]=Array.isArray(a)?a.map(e):e(a)}return o}const Q=()=>{},X=/\/$/;function H(e,t,o="/"){let r,a={},n="",s="";const i=t.indexOf("?"),c=t.indexOf("#",i>-1?i:0);return i>-1&&(r=t.slice(0,i),n=t.slice(i+1,c>-1?c:t.length),a=e(n)),c>-1&&(r=r||t.slice(0,c),s=t.slice(c,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const o=t.split("/"),r=e.split("/");let a,n,s=o.length-1;for(a=0;a<r.length;a++)if(n=r[a],1!==s&&"."!==n){if(".."!==n)break;s--}return o.slice(0,s).join("/")+"/"+r.slice(a-(a===r.length?1:0)).join("/")}(null!=r?r:t,o),{fullPath:r+(n&&"?")+n+s,path:r,query:a,hash:s}}function Z(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function z(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Y(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(!$(e[o],t[o]))return!1;return!0}function $(e,t){return Array.isArray(e)?ee(e,t):Array.isArray(t)?ee(t,e):e===t}function ee(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,o)=>e===t[o])):1===e.length&&e[0]===t}var te,oe,re,ae;function ne(e){if(!e)if(G){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(X,"")}(oe=te||(te={})).pop="pop",oe.push="push",(ae=re||(re={})).back="back",ae.forward="forward",ae.unknown="";const se=/^[^#]+#/;function ie(e,t){return e.replace(se,"#")+t}const ce=()=>({left:window.pageXOffset,top:window.pageYOffset});function le(e){let t;if("el"in e){const o=e.el,r="string"==typeof o&&o.startsWith("#"),a="string"==typeof o?r?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!a)return;t=function(e,t){const o=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-o.left-(t.left||0),top:r.top-o.top-(t.top||0)}}(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function de(e,t){return(history.state?history.state.position-t:-1)+e}const ue=new Map;function pe(e,t){const{pathname:o,search:r,hash:a}=t,n=e.indexOf("#");if(n>-1){let t=a.includes(e.slice(n))?e.slice(n).length:1,o=a.slice(t);return"/"!==o[0]&&(o="/"+o),Z(o,"")}return Z(o,e)+r+a}function me(e,t,o,r=!1,a=!1){return{back:e,current:t,forward:o,replaced:r,position:window.history.length,scroll:a?ce():null}}function fe(e){const{history:t,location:o}=window,r={value:pe(e,o)},a={value:t.state};function n(r,n,s){const i=e.indexOf("#"),c=i>-1?(o.host&&document.querySelector("base")?e:e.slice(i))+r:location.protocol+"//"+location.host+e+r;try{t[s?"replaceState":"pushState"](n,"",c),a.value=n}catch(l){console.error(l),o[s?"replace":"assign"](c)}}return a.value||n(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:a,push:function(e,o){const s=q({},a.value,t.state,{forward:e,scroll:ce()});n(s.current,s,!0),n(e,q({},me(r.value,e,null),{position:s.position+1},o),!1),r.value=e},replace:function(e,o){n(e,q({},t.state,me(a.value.back,e,a.value.forward,!0),o,{position:a.value.position}),!0),r.value=e}}}function ge(e){return"string"==typeof e||"symbol"==typeof e}const he={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ye=B("nf");var ve,be;function Ee(e,t){return q(new Error,{type:e,[ye]:!0},t)}function Ae(e,t){return e instanceof Error&&ye in e&&(null==t||!!(e.type&t))}(be=ve||(ve={}))[be.aborted=4]="aborted",be[be.cancelled=8]="cancelled",be[be.duplicated=16]="duplicated";const we={sensitive:!1,strict:!1,start:!0,end:!0},Ie=/[.+*?^${}()[\]/\\]/g;function _e(e,t){let o=0;for(;o<e.length&&o<t.length;){const r=t[o]-e[o];if(r)return r;o++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function ke(e,t){let o=0;const r=e.score,a=t.score;for(;o<r.length&&o<a.length;){const e=_e(r[o],a[o]);if(e)return e;o++}return a.length-r.length}const Ce={type:0,value:""},Oe=/[a-zA-Z0-9_]/;function De(e,t,o){const r=function(e,t){const o=q({},we,t),r=[];let a=o.start?"^":"";const n=[];for(const c of e){const e=c.length?[]:[90];o.strict&&!c.length&&(a+="/");for(let t=0;t<c.length;t++){const r=c[t];let s=40+(o.sensitive?.25:0);if(0===r.type)t||(a+="/"),a+=r.value.replace(Ie,"\\$&"),s+=40;else if(1===r.type){const{value:e,repeatable:o,optional:l,regexp:d}=r;n.push({name:e,repeatable:o,optional:l});const u=d||"[^/]+?";if("[^/]+?"!==u){s+=10;try{new RegExp(`(${u})`)}catch(i){throw new Error(`Invalid custom RegExp for param "${e}" (${u}): `+i.message)}}let p=o?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;t||(p=l&&c.length<2?`(?:/${p})`:"/"+p),l&&(p+="?"),a+=p,s+=20,l&&(s+=-8),o&&(s+=-20),".*"===u&&(s+=-50)}e.push(s)}r.push(e)}if(o.strict&&o.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}o.strict||(a+="/?"),o.end?a+="$":o.strict&&(a+="(?:/|$)");const s=new RegExp(a,o.sensitive?"":"i");return{re:s,score:r,keys:n,parse:function(e){const t=e.match(s),o={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",a=n[r-1];o[a.name]=e&&a.repeatable?e.split("/"):e}return o},stringify:function(t){let o="",r=!1;for(const a of e){r&&o.endsWith("/")||(o+="/"),r=!1;for(const e of a)if(0===e.type)o+=e.value;else if(1===e.type){const{value:n,repeatable:s,optional:i}=e,c=n in t?t[n]:"";if(Array.isArray(c)&&!s)throw new Error(`Provided param "${n}" is an array but it is not repeatable (* or + modifiers)`);const l=Array.isArray(c)?c.join("/"):c;if(!l){if(!i)throw new Error(`Missing required param "${n}"`);a.length<2&&(o.endsWith("/")?o=o.slice(0,-1):r=!0)}o+=l}}return o}}}(function(e){if(!e)return[[]];if("/"===e)return[[Ce]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${o})/"${l}": ${e}`)}let o=0,r=o;const a=[];let n;function s(){n&&a.push(n),n=[]}let i,c=0,l="",d="";function u(){l&&(0===o?n.push({type:0,value:l}):1===o||2===o||3===o?(n.length>1&&("*"===i||"+"===i)&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),n.push({type:1,value:l,regexp:d,repeatable:"*"===i||"+"===i,optional:"*"===i||"?"===i})):t("Invalid state to consume buffer"),l="")}function p(){l+=i}for(;c<e.length;)if(i=e[c++],"\\"!==i||2===o)switch(o){case 0:"/"===i?(l&&u(),s()):":"===i?(u(),o=1):p();break;case 4:p(),o=r;break;case 1:"("===i?o=2:Oe.test(i)?p():(u(),o=0,"*"!==i&&"?"!==i&&"+"!==i&&c--);break;case 2:")"===i?"\\"==d[d.length-1]?d=d.slice(0,-1)+i:o=3:d+=i;break;case 3:u(),o=0,"*"!==i&&"?"!==i&&"+"!==i&&c--,d="";break;default:t("Unknown state")}else r=o,o=4;return 2===o&&t(`Unfinished custom RegExp for param "${l}"`),u(),s(),a}(e.path),o),a=q(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function Pe(e,t){const o=[],r=new Map;function a(e,o,r){const i=!r,c=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:je(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}(e);c.aliasOf=r&&r.record;const l=Le(t,e),d=[c];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)d.push(q({},c,{components:r?r.record.components:c.components,path:e,aliasOf:r?r.record:c}))}let u,p;for(const t of d){const{path:d}=t;if(o&&"/"!==d[0]){const e=o.record.path,r="/"===e[e.length-1]?"":"/";t.path=o.record.path+(d&&r+d)}if(u=De(t,o,l),r?r.alias.push(u):(p=p||u,p!==u&&p.alias.push(u),i&&e.name&&!Re(u)&&n(e.name)),"children"in c){const e=c.children;for(let t=0;t<e.length;t++)a(e[t],u,r&&r.children[t])}r=r||u,s(u)}return p?()=>{n(p)}:Q}function n(e){if(ge(e)){const t=r.get(e);t&&(r.delete(e),o.splice(o.indexOf(t),1),t.children.forEach(n),t.alias.forEach(n))}else{const t=o.indexOf(e);t>-1&&(o.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(n),e.alias.forEach(n))}}function s(e){let t=0;for(;t<o.length&&ke(e,o[t])>=0;)t++;o.splice(t,0,e),e.record.name&&!Re(e)&&r.set(e.record.name,e)}return t=Le({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>a(e))),{addRoute:a,resolve:function(e,t){let a,n,s,i={};if("name"in e&&e.name){if(a=r.get(e.name),!a)throw Ee(1,{location:e});s=a.record.name,i=q(function(e,t){const o={};for(const r of t)r in e&&(o[r]=e[r]);return o}(t.params,a.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),n=a.stringify(i)}else if("path"in e)n=e.path,a=o.find((e=>e.re.test(n))),a&&(i=a.parse(n),s=a.record.name);else{if(a=t.name?r.get(t.name):o.find((e=>e.re.test(t.path))),!a)throw Ee(1,{location:e,currentLocation:t});s=a.record.name,i=q({},t.params,e.params),n=a.stringify(i)}const c=[];let l=a;for(;l;)c.unshift(l.record),l=l.parent;return{name:s,path:n,params:i,matched:c,meta:Se(c)}},removeRoute:n,getRoutes:function(){return o},getRecordMatcher:function(e){return r.get(e)}}}function je(e){const t={},o=e.props||!1;if("component"in e)t.default=o;else for(const r in e.components)t[r]="boolean"==typeof o?o:o[r];return t}function Re(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Se(e){return e.reduce(((e,t)=>q(e,t.meta)),{})}function Le(e,t){const o={};for(const r in e)o[r]=r in t?t[r]:e[r];return o}const xe=/#/g,Te=/&/g,Ke=/\//g,Me=/=/g,Be=/\?/g,Ue=/\+/g,Fe=/%5B/g,Ve=/%5D/g,Ne=/%5E/g,We=/%60/g,Ge=/%7B/g,qe=/%7C/g,Je=/%7D/g,Qe=/%20/g;function Xe(e){return encodeURI(""+e).replace(qe,"|").replace(Fe,"[").replace(Ve,"]")}function He(e){return Xe(e).replace(Ue,"%2B").replace(Qe,"+").replace(xe,"%23").replace(Te,"%26").replace(We,"`").replace(Ge,"{").replace(Je,"}").replace(Ne,"^")}function Ze(e){return null==e?"":function(e){return Xe(e).replace(xe,"%23").replace(Be,"%3F")}(e).replace(Ke,"%2F")}function ze(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function Ye(e){const t={};if(""===e||"?"===e)return t;const o=("?"===e[0]?e.slice(1):e).split("&");for(let r=0;r<o.length;++r){const e=o[r].replace(Ue," "),a=e.indexOf("="),n=ze(a<0?e:e.slice(0,a)),s=a<0?null:ze(e.slice(a+1));if(n in t){let e=t[n];Array.isArray(e)||(e=t[n]=[e]),e.push(s)}else t[n]=s}return t}function $e(e){let t="";for(let o in e){const r=e[o];if(o=He(o).replace(Me,"%3D"),null==r){void 0!==r&&(t+=(t.length?"&":"")+o);continue}(Array.isArray(r)?r.map((e=>e&&He(e))):[r&&He(r)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+o,null!=e&&(t+="="+e))}))}return t}function et(e){const t={};for(const o in e){const r=e[o];void 0!==r&&(t[o]=Array.isArray(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}function tt(){let e=[];return{add:function(t){return e.push(t),()=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)}},list:()=>e,reset:function(){e=[]}}}function ot(e,t,o,r,a){const n=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise(((s,i)=>{const c=e=>{var c;!1===e?i(Ee(4,{from:o,to:t})):e instanceof Error?i(e):"string"==typeof(c=e)||c&&"object"==typeof c?i(Ee(2,{from:t,to:e})):(n&&r.enterCallbacks[a]===n&&"function"==typeof e&&n.push(e),s())},l=e.call(r&&r.instances[a],t,o,c);let d=Promise.resolve(l);e.length<3&&(d=d.then(c)),d.catch((e=>i(e)))}))}function rt(e,t,o,r){const a=[];for(const s of e)for(const e in s.components){let i=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if("object"==typeof(n=i)||"displayName"in n||"props"in n||"__vccOpts"in n){const n=(i.__vccOpts||i)[t];n&&a.push(ot(n,o,r,s,e))}else{let n=i();a.push((()=>n.then((a=>{if(!a)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${s.path}"`));const n=(i=a).__esModule||M&&"Module"===i[Symbol.toStringTag]?a.default:a;var i;s.components[e]=n;const c=(n.__vccOpts||n)[t];return c&&ot(c,o,r,s,e)()}))))}}var n;return a}function at(e){const t=u(V),o=u(N),r=n((()=>t.resolve(i(e.to)))),a=n((()=>{const{matched:e}=r.value,{length:t}=e,a=e[t-1],n=o.matched;if(!a||!n.length)return-1;const s=n.findIndex(z.bind(null,a));if(s>-1)return s;const i=st(e[t-2]);return t>1&&st(a)===i&&n[n.length-1].path!==i?n.findIndex(z.bind(null,e[t-2])):s})),s=n((()=>a.value>-1&&function(e,t){for(const o in t){const r=t[o],a=e[o];if("string"==typeof r){if(r!==a)return!1}else if(!Array.isArray(a)||a.length!==r.length||r.some(((e,t)=>e!==a[t])))return!1}return!0}(o.params,r.value.params))),c=n((()=>a.value>-1&&a.value===o.matched.length-1&&Y(o.params,r.value.params)));return{route:r,href:n((()=>r.value.href)),isActive:s,isExactActive:c,navigate:function(o={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(o)?t[i(e.replace)?"replace":"push"](i(e.to)).catch(Q):Promise.resolve()}}}const nt=d({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:at,setup(e,{slots:t}){const o=c(at(e)),{options:r}=u(V),a=n((()=>({[it(e.activeClass,r.linkActiveClass,"router-link-active")]:o.isActive,[it(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive})));return()=>{const r=t.default&&t.default(o);return e.custom?r:p("a",{"aria-current":o.isExactActive?e.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:a.value},r)}}});function st(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const it=(e,t,o)=>null!=e?e:null!=t?t:o;function ct(e,t){if(!e)return null;const o=e(t);return 1===o.length?o[0]:o}const lt=d({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:o}){const r=u(W),a=n((()=>e.route||r.value)),s=u(F,0),i=n((()=>a.value.matched[s]));m(F,s+1),m(U,i),m(W,a);const c=f();return g((()=>[c.value,i.value,e.name]),(([e,t,o],[r,a,n])=>{t&&(t.instances[o]=e,a&&a!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=a.leaveGuards),t.updateGuards.size||(t.updateGuards=a.updateGuards))),!e||!t||a&&z(t,a)&&r||(t.enterCallbacks[o]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=a.value,n=i.value,s=n&&n.components[e.name],l=e.name;if(!s)return ct(o.default,{Component:s,route:r});const d=n.props[e.name],u=d?!0===d?r.params:"function"==typeof d?d(r):d:null,m=p(s,q({},u,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(n.instances[l]=null)},ref:c}));return ct(o.default,{Component:m,route:r})||m}}});function dt(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}var ut=(e,t)=>{for(const[o,r]of t)e[o]=r;return e};const pt={components:{sunlight0:defineComponent({template:'<div>There\'s a lot of <span class="highlight">SUNLIGHT</span> here, however, nothing else yet.</div>',setup:()=>{}})},setup(){const e=inject("app"),t=ecs.create("DRNorton0",{id:"YykawqvDqjBOYcKCw4VmQS",grid0user:{gridID:"QMKZwr3DrsODTkbDrsKOwr"},connections:{grid:"QMKZwr3DrsODTkbDrsKOwr"},dialog0:{show:!0}});Object.entries(e.grid.grid0.roster).map((([t,o])=>{const r=ecs.root[t];r?(r.dialog0&&(r.dialog0.show=!0),r.grid0user&&!r.grid0user.gridID&&(r.grid0user.gridID="QMKZwr3DrsODTkbDrsKOwr")):delete e.grid.grid0.roster[t]})),e.grid.grid0.deploy(t),console.log("stage2 DRNorton0 instance",t);const o=e=>{let t=e.item?e.item.baseComponent:"GridItem0";return"IAbstract"===t&&(t="GridItem0"),"Inventory0"===e.type&&(t="Inventory1"),{component:t,item:e}},r=ecs.by((t=>t.grid0user&&e.grid.grid0.roster[t.id]||e.app0.renderItems[t.id]),{map:o}),a=computed((()=>e.towerGrids.map((e=>{const t=ecs.find((t=>t.grid0user&&e.grid0.roster[t.id])).map(o);return{level:e.grid0.level,zIndex:100*e.grid0.level,components:t}})))),n=[{keyExpression:e=>"Arrow"===e.code.slice(0,5)&&!e.ctrlKey&&!e.altKey&&!e.metaKey},{keyExpression:e=>"KeyI"===e.code&&!0===e.ctrlKey&&!0===e.shiftKey},{keyExpression:e=>"KeyR"===e.code&&!0===e.ctrlKey},{keyExpression:e=>"Key"===e.code.slice(0,3)&&!e.ctrlKey&&!e.altKey&&!e.metaKey},{keyExpression:e=>"Digit"===e.code.slice(0,5)&&!e.ctrlKey&&!e.altKey&&!e.metaKey},{keyExpression:e=>"Numpad"===e.code.slice(0,6)&&!e.ctrlKey&&!e.altKey&&!e.metaKey},{keyExpression:e=>~["Delete","Backspace","Space","Tab","Insert","Home","End","PageUp","PageDown","Comma","Period","Slash","Semicolon","Quote","BracketLeft","BracketRight","Minus","Equal","Backslash","Backquote","Enter"].indexOf(e.code)&&!e.ctrlKey&&!e.altKey&&!e.metaKey},{keyExpression:e=>~["KeyA","KeyZ","KeyX","KeyC","KeyV","Insert","Delete"].indexOf(e.code)&&e.ctrlKey&&!e.altKey&&!e.metaKey&&!e.shiftKey}],s=e=>{if(~["INPUT","TEXTAREA"].indexOf(e.target.tagName))return!0;const t=ecs.find((e=>e.keyboardUser0&&e.attention0&&e.attention0.present));for(let r of t)try{r.keyboardUser0.conduct("keyDown")(e)}catch(o){core.log(`[Sunlight1]Failure while dispatching a keyboardUser0 event to ${pure.itemToken(r)}: ${o.message}`)}return e.defaultPrevented||3!==event.eventPhase||n.filter((t=>t.keyExpression(e))).length?void 0:(console.log(e.code),e.preventDefault(),e.stopPropagation(),!1)},i=e=>{const t=ecs.find((e=>e.keyboardUser0&&e.attention0&&e.attention0.present));for(let o of t)o.keyboardUser0.conduct("keyUp")(e)};return onMounted((()=>{document.body.addEventListener("keyup",i),document.body.addEventListener("keydown",s)})),onBeforeUnmount((()=>{})),{drNorton0:t,visible:r,levels:a}}},mt={id:"sunlight-table"},ft={class:"level-0"};const gt=[{path:"/:locID?",name:"SunlightApp",component:ut(pt,[["render",function(e,t,o,r,a,n){const s=h("sunlight0"),i=h("Paste0");return y(),v("div",mt,[b("div",ft,[(y(!0),v(E,null,A(r.visible,((e,t)=>(y(),w(I(e.component),{key:t,item:e.item},null,8,["item"])))),128))]),(y(!0),v(E,null,A(r.levels,((e,t)=>(y(),v("div",{key:t,style:_({zIndex:e.zIndex}),class:k({[`level-${e.level}`]:!0})},[(y(!0),v(E,null,A(e.components,((e,t)=>(y(),w(I(e.component),{key:t,item:e.item},null,8,["item"])))),128))],6)))),128)),r.visible.length?C("",!0):(y(),w(s,{key:0,class:"sunlight-0"})),O(i)])}]]),props:!0}];ecs.root.router=function(e){const t=Pe(e.routes,e),o=e.parseQuery||Ye,r=e.stringifyQuery||$e,a=e.history,d=tt(),u=tt(),p=tt(),m=s(he);let f=he;G&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=J.bind(null,(e=>""+e)),h=J.bind(null,Ze),y=J.bind(null,ze);function v(e,n){if(n=q({},n||m.value),"string"==typeof e){const r=H(o,e,n.path),s=t.resolve({path:r.path},n),i=a.createHref(r.fullPath);return q(r,s,{params:y(s.params),hash:ze(r.hash),redirectedFrom:void 0,href:i})}let s;if("path"in e)s=q({},e,{path:H(o,e.path,n.path).path});else{const t=q({},e.params);for(const e in t)null==t[e]&&delete t[e];s=q({},e,{params:h(e.params)}),n.params=h(n.params)}const i=t.resolve(s,n),c=e.hash||"";i.params=g(y(i.params));const l=function(e,t){const o=t.query?e(t.query):"";return t.path+(o&&"?")+o+(t.hash||"")}(r,q({},e,{hash:(d=c,Xe(d).replace(Ge,"{").replace(Je,"}").replace(Ne,"^")),path:i.path}));var d;const u=a.createHref(l);return q({fullPath:l,hash:c,query:r===$e?et(e.query):e.query||{}},i,{redirectedFrom:void 0,href:u})}function b(e){return"string"==typeof e?H(o,e,m.value.path):q({},e)}function E(e,t){if(f!==e)return Ee(8,{from:t,to:e})}function A(e){return I(e)}function w(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:o}=t;let r="function"==typeof o?o(e):o;return"string"==typeof r&&(r=r.includes("?")||r.includes("#")?r=b(r):{path:r},r.params={}),q({query:e.query,hash:e.hash,params:e.params},r)}}function I(e,t){const o=f=v(e),a=m.value,n=e.state,s=e.force,i=!0===e.replace,c=w(o);if(c)return I(q(b(c),{state:n,force:s,replace:i}),t||o);const l=o;let d;return l.redirectedFrom=t,!s&&function(e,t,o){const r=t.matched.length-1,a=o.matched.length-1;return r>-1&&r===a&&z(t.matched[r],o.matched[a])&&Y(t.params,o.params)&&e(t.query)===e(o.query)&&t.hash===o.hash}(r,a,o)&&(d=Ee(16,{to:l,from:a}),T(a,a,!0,!1)),(d?Promise.resolve(d):k(l,a)).catch((e=>Ae(e)?e:L(e,l,a))).then((e=>{if(e){if(Ae(e,2))return I(q(b(e.to),{state:n,force:s,replace:i}),t||l)}else e=O(l,a,!0,i,n);return C(l,a,e),e}))}function _(e,t){const o=E(e,t);return o?Promise.reject(o):Promise.resolve()}function k(e,t){let o;const[r,a,n]=function(e,t){const o=[],r=[],a=[],n=Math.max(t.matched.length,e.matched.length);for(let s=0;s<n;s++){const n=t.matched[s];n&&(e.matched.find((e=>z(e,n)))?r.push(n):o.push(n));const i=e.matched[s];i&&(t.matched.find((e=>z(e,i)))||a.push(i))}return[o,r,a]}(e,t);o=rt(r.reverse(),"beforeRouteLeave",e,t);for(const i of r)i.leaveGuards.forEach((r=>{o.push(ot(r,e,t))}));const s=_.bind(null,e,t);return o.push(s),dt(o).then((()=>{o=[];for(const r of d.list())o.push(ot(r,e,t));return o.push(s),dt(o)})).then((()=>{o=rt(a,"beforeRouteUpdate",e,t);for(const r of a)r.updateGuards.forEach((r=>{o.push(ot(r,e,t))}));return o.push(s),dt(o)})).then((()=>{o=[];for(const r of e.matched)if(r.beforeEnter&&!t.matched.includes(r))if(Array.isArray(r.beforeEnter))for(const a of r.beforeEnter)o.push(ot(a,e,t));else o.push(ot(r.beforeEnter,e,t));return o.push(s),dt(o)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),o=rt(n,"beforeRouteEnter",e,t),o.push(s),dt(o)))).then((()=>{o=[];for(const r of u.list())o.push(ot(r,e,t));return o.push(s),dt(o)})).catch((e=>Ae(e,8)?e:Promise.reject(e)))}function C(e,t,o){for(const r of p.list())r(e,t,o)}function O(e,t,o,r,n){const s=E(e,t);if(s)return s;const i=t===he,c=G?history.state:{};o&&(r||i?a.replace(e.fullPath,q({scroll:i&&c&&c.scroll},n)):a.push(e.fullPath,n)),m.value=e,T(e,t,o,i),x()}let D;function P(){D=a.listen(((e,t,o)=>{const r=v(e),n=w(r);if(n)return void I(q(n,{replace:!0}),r).catch(Q);f=r;const s=m.value;var i,c;G&&(i=de(s.fullPath,o.delta),c=ce(),ue.set(i,c)),k(r,s).catch((e=>Ae(e,12)?e:Ae(e,2)?(I(e.to,r).then((e=>{Ae(e,20)&&!o.delta&&o.type===te.pop&&a.go(-1,!1)})).catch(Q),Promise.reject()):(o.delta&&a.go(-o.delta,!1),L(e,r,s)))).then((e=>{(e=e||O(r,s,!1))&&(o.delta?a.go(-o.delta,!1):o.type===te.pop&&Ae(e,20)&&a.go(-1,!1)),C(r,s,e)})).catch(Q)}))}let j,R=tt(),S=tt();function L(e,t,o){x(e);const r=S.list();return r.length?r.forEach((r=>r(e,t,o))):console.error(e),Promise.reject(e)}function x(e){j||(j=!0,P(),R.list().forEach((([t,o])=>e?o(e):t())),R.reset())}function T(t,o,r,a){const{scrollBehavior:n}=e;if(!G||!n)return Promise.resolve();const s=!r&&function(e){const t=ue.get(e);return ue.delete(e),t}(de(t.fullPath,0))||(a||!r)&&history.state&&history.state.scroll||null;return l().then((()=>n(t,o,s))).then((e=>e&&le(e))).catch((e=>L(e,t,o)))}const K=e=>a.go(e);let M;const B=new Set;return{currentRoute:m,addRoute:function(e,o){let r,a;return ge(e)?(r=t.getRecordMatcher(e),a=o):a=e,t.addRoute(a,r)},removeRoute:function(e){const o=t.getRecordMatcher(e);o&&t.removeRoute(o)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:v,options:e,push:A,replace:function(e){return A(q(b(e),{replace:!0}))},go:K,back:()=>K(-1),forward:()=>K(1),beforeEach:d.add,beforeResolve:u.add,afterEach:p.add,onError:S.add,isReady:function(){return j&&m.value!==he?Promise.resolve():new Promise(((e,t)=>{R.add([e,t])}))},install(e){e.component("RouterLink",nt),e.component("RouterView",lt),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>i(m)}),G&&!M&&m.value===he&&(M=!0,A(a.location).catch((e=>{})));const t={};for(const r in he)t[r]=n((()=>m.value[r]));e.provide(V,this),e.provide(N,c(t)),e.provide(W,m);const o=e.unmount;B.add(e),e.unmount=function(){B.delete(e),B.size<1&&(f=he,D&&D(),m.value=he,M=!1,j=!1),o()}}}}({routes:gt,history:function(e){const t=fe(e=ne(e)),o=function(e,t,o,r){let a=[],n=[],s=null;const i=({state:n})=>{const i=pe(e,location),c=o.value,l=t.value;let d=0;if(n){if(o.value=i,t.value=n,s&&s===c)return void(s=null);d=l?n.position-l.position:0}else r(i);a.forEach((e=>{e(o.value,c,{delta:d,type:te.pop,direction:d?d>0?re.forward:re.back:re.unknown})}))};function c(){const{history:e}=window;e.state&&e.replaceState(q({},e.state,{scroll:ce()}),"")}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",c),{pauseListeners:function(){s=o.value},listen:function(e){a.push(e);const t=()=>{const t=a.indexOf(e);t>-1&&a.splice(t,1)};return n.push(t),t},destroy:function(){for(const e of n)e();n=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",c)}}}(e,t.state,t.location,t.replace),r=q({location:"",base:e,go:function(e,t=!0){t||o.pauseListeners(),history.go(e)},createHref:ie.bind(null,e)},t,o);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}()});var ht=ecs.root.router;(async()=>{const e={"./yehat/items/Btn0.vue":()=>D((()=>import("./Btn0.9d7cc4fc.js")),["assets/Btn0.9d7cc4fc.js","assets/index.154289d4.js"]),"./yehat/items/BtnMove0.vue":()=>D((()=>import("./BtnMove0.60fecfa3.js")),["assets/BtnMove0.60fecfa3.js","assets/index.154289d4.js"]),"./yehat/items/BtnResize0.vue":()=>D((()=>import("./BtnResize0.d3b4be66.js")),["assets/BtnResize0.d3b4be66.js","assets/index.154289d4.js"]),"./yehat/items/Cargo2.vue":()=>D((()=>import("./Cargo2.1bdc5c8c.js")),["assets/Cargo2.1bdc5c8c.js","assets/index.154289d4.js"]),"./yehat/items/Cargo3.vue":()=>D((()=>import("./Cargo3.9a88d6dd.js")),["assets/Cargo3.9a88d6dd.js","assets/index.154289d4.js"]),"./yehat/items/Chat0.vue":()=>D((()=>import("./Chat0.e24fb783.js")),["assets/Chat0.e24fb783.js","assets/index.154289d4.js"]),"./yehat/items/Code1.vue":()=>D((()=>import("./Code1.d860d486.js")),["assets/Code1.d860d486.js","assets/index.154289d4.js"]),"./yehat/items/DNEdit0.vue":()=>D((()=>import("./DNEdit0.c03e6426.js")),["assets/DNEdit0.c03e6426.js","assets/index.154289d4.js"]),"./yehat/items/DNPanel0.vue":()=>D((()=>import("./DNPanel0.b6e3de20.js")),["assets/DNPanel0.b6e3de20.js","assets/Persistence0.d8a2173a.js","assets/index.154289d4.js"]),"./yehat/items/DNTypeDef0.vue":()=>D((()=>import("./DNTypeDef0.7eb82596.js")),["assets/DNTypeDef0.7eb82596.js","assets/index.154289d4.js"]),"./yehat/items/DRNorton0.vue":()=>D((()=>import("./DRNorton0.0a1c8017.js")),["assets/DRNorton0.0a1c8017.js","assets/DNPanel0.b6e3de20.js","assets/Persistence0.d8a2173a.js","assets/index.154289d4.js","assets/DNEdit0.c03e6426.js"]),"./yehat/items/EditBar0.vue":()=>D((()=>import("./EditBar0.33dbe274.js")),["assets/EditBar0.33dbe274.js","assets/index.154289d4.js"]),"./yehat/items/Eraser0.vue":()=>D((()=>import("./Eraser0.68bad1c0.js")),["assets/Eraser0.68bad1c0.js","assets/index.154289d4.js"]),"./yehat/items/Fav0.vue":()=>D((()=>import("./Fav0.5f03035a.js")),["assets/Fav0.5f03035a.js","assets/index.154289d4.js"]),"./yehat/items/Grid0.vue":()=>D((()=>import("./Grid0.8ad2d744.js")),["assets/Grid0.8ad2d744.js","assets/index.154289d4.js"]),"./yehat/items/GridItem0.vue":()=>D((()=>import("./GridItem0.921a62a8.js")),["assets/GridItem0.921a62a8.js","assets/index.154289d4.js"]),"./yehat/items/ICard0.vue":()=>D((()=>import("./ICard0.230c22b7.js")),["assets/ICard0.230c22b7.js","assets/default-00.b9116878.js","assets/index.154289d4.js"]),"./yehat/items/ICard1.vue":()=>D((()=>import("./ICard1.3d226874.js")),["assets/ICard1.3d226874.js","assets/index.154289d4.js"]),"./yehat/items/ICat0.vue":()=>D((()=>import("./ICat0.b60129f3.js")),["assets/ICat0.b60129f3.js","assets/index.154289d4.js"]),"./yehat/items/ICreateImage4.vue":()=>D((()=>import("./ICreateImage4.a3fff3d9.js")),["assets/ICreateImage4.a3fff3d9.js","assets/index.154289d4.js"]),"./yehat/items/IDialog0.vue":()=>D((()=>import("./IDialog0.0d45be17.js")),["assets/IDialog0.0d45be17.js","assets/index.154289d4.js"]),"./yehat/items/IGal0.vue":()=>D((()=>import("./IGal0.32bdbe0a.js")),["assets/IGal0.32bdbe0a.js","assets/index.154289d4.js"]),"./yehat/items/IProject.vue":()=>D((()=>import("./IProject.c85bda89.js")),["assets/IProject.c85bda89.js","assets/index.154289d4.js"]),"./yehat/items/Image4.vue":()=>D((()=>import("./Image4.e204a40c.js")),["assets/Image4.e204a40c.js","assets/index.154289d4.js"]),"./yehat/items/Inventory1.vue":()=>D((()=>import("./Inventory1.c1be1afa.js")),["assets/Inventory1.c1be1afa.js","assets/default-00.b9116878.js","assets/index.154289d4.js"]),"./yehat/items/Marque0.vue":()=>D((()=>import("./Marque0.d6a52739.js")),["assets/Marque0.d6a52739.js","assets/index.154289d4.js"]),"./yehat/items/MemberCard0.vue":()=>D((()=>import("./MemberCard0.231e9823.js")),["assets/MemberCard0.231e9823.js","assets/index.154289d4.js"]),"./yehat/items/Mission0.vue":()=>D((()=>import("./Mission0.37a8ebee.js")),["assets/Mission0.37a8ebee.js","assets/index.154289d4.js"]),"./yehat/items/MissionBoard0.ce.vue":()=>D((()=>import("./MissionBoard0.ce.5f151e14.js")),["assets/MissionBoard0.ce.5f151e14.js","assets/index.154289d4.js"]),"./yehat/items/Msg0.vue":()=>D((()=>import("./Msg0.154137d6.js")),["assets/Msg0.154137d6.js","assets/index.154289d4.js"]),"./yehat/items/Paste0.vue":()=>D((()=>import("./Paste0.8772d5e5.js")),["assets/Paste0.8772d5e5.js","assets/index.154289d4.js"]),"./yehat/items/Persistence0.vue":()=>D((()=>import("./Persistence0.d8a2173a.js")),["assets/Persistence0.d8a2173a.js","assets/index.154289d4.js"]),"./yehat/items/Picker0.vue":()=>D((()=>import("./Picker0.dbb64b16.js")),["assets/Picker0.dbb64b16.js","assets/index.154289d4.js"]),"./yehat/items/Priority0.vue":()=>D((()=>import("./Priority0.e2fdf9b1.js")),["assets/Priority0.e2fdf9b1.js","assets/index.154289d4.js"]),"./yehat/items/PriorityPicker0.vue":()=>D((()=>import("./PriorityPicker0.fd134ac2.js")),["assets/PriorityPicker0.fd134ac2.js","assets/index.154289d4.js"]),"./yehat/items/Slot0.vue":()=>D((()=>import("./Slot0.ed252850.js")),["assets/Slot0.ed252850.js","assets/index.154289d4.js"]),"./yehat/items/Split0.vue":()=>D((()=>import("./Split0.ea716322.js")),["assets/Split0.ea716322.js","assets/index.154289d4.js"]),"./yehat/items/TypeEdit0.vue":()=>D((()=>import("./TypeEdit0.29bf13f1.js")),["assets/TypeEdit0.29bf13f1.js","assets/index.154289d4.js"]),"./yehat/items/WebSocket0.vue":()=>D((()=>import("./WebSocket0.246df2dd.js")),["assets/WebSocket0.246df2dd.js","assets/index.154289d4.js"])};ecs.loadLocalInstances();const t=reactive({app0:{renderItems:{},gridStack:["QMKZwr3DrsODTkbDrsKOwr"],gridTower:["LMOFwoZldRZJwoHChmHDuc"],gridTowerAttention:null},grid:computed({get:()=>{const e=ecs.root[t.app0.gridStack[0]];return e||ecs.create("Grid0",{id:t.app0.gridStack[0]})},set:e=>{if("object"==typeof e&&e.id){if(e.id===t.app0.gridStack[0])return void core.log(`[App0]Navigation to [Grid0 ${e.id}], which is the current stack head. Ignored.`);t.app0.gridStack.unshift(e.id),core.log(`[App0]Navigated to ${pure.itemToken(e)}`)}}}),towerGrids:computed((()=>t.app0.gridTower.map(((e,t)=>{if(ecs.root[e])return ecs.root[e];const o=ecs.create("Grid0",{id:e,grid0:{level:t+1,scale:"normal"}});return o.grid0.resizeToScreen(),o})))),back:()=>{if(t.app0.gridStack.length<=1)return void core.log("[App0]Back at the top of Grid Stack. Ignored.");t.app0.gridStack=t.app0.gridStack.slice(1);const e=ecs.root[t.app0.gridStack[0]];e?core.log(`[App0]Navigated BACK to ${pure.itemToken(e)}`):core.log("[App0]Navigated BACK to an unknown node, probably a failure.",e)},close:e=>{delete t.app0.renderItems[e]}});ecs.root.app=t;const o=createApp({template:"<router-view />",setup:()=>(console.log("App setup."),provide("app",t),{})});core.appComponents={};for(let r in e){let t=r.split("/").pop().replace(".ce.vue","").replace(".vue","");console.log("Registering Component",t);let a=defineAsyncComponent(e[r]);core.appComponents[t]=a,o.component(t,a)}ecs.create("WebSocket0",{id:core.yehat.websocketID}),o.use(Quasar.Quasar,{config:{brand:{primary:"#F26338",sunshine:"#FEBE2A",whiteField:"#E2E1E1",darkBG:"#1D2F37"},dark:!0},plugins:{Notify:Quasar.Notify}}),o.use(ht),o.mount("#q-app"),console.log("Stage 2 - TheApp mounted.")})();var yt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:()=>{console.log("Stage 2 default called.")}});export{ut as _,yt as s};
