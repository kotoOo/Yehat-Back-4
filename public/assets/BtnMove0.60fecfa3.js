import{B as e,C as t,g as i,z as r,A as s,o}from"./index.154289d4.js";import{_ as d}from"./stage2.41e6de3a.js";const a={props:{item:Object},setup(e){const t=reactive({startPos:[]});return{pan:({isFirst:i,isFinal:r,offset:s})=>{if(i){const{gridID:i}=e.item.grid0user?e.item.grid0user:{gridID:null};t.startPos=i?ecs.root[i].grid0.roster[e.item.id]?ecs.root[i].grid0.roster[e.item.id].pos:e.item.grid0user.defaultRecord:e.item.located?e.item.located.pos:[0,0],e.item.grid0user.isMoving=!0}if(!i){const{gridID:i}=e.item.grid0user?e.item.grid0user:{gridID:null};if(i){const r=ecs.root[i];r.grid0.roster[e.item.id]||(r.grid0.roster[e.item.id]=e.item.grid0user?e.item.grid0user.defaultRecord:{pos:(e.item.located?e.item.located.pos:[0,0])||[0,0],size:(e.item.located?e.item.located.size:[10,15])||[10,15]}),r.grid0.move(e.item,[t.startPos[0]+Math.floor(s.x/(r.space2.grid[0]+r.space2.grid[2])),t.startPos[1]+Math.floor(s.y/(r.space2.grid[1]+r.space2.grid[3]))])}}if(r){t.active=!1,e.item.grid0user.isMoving=!1;const{gridID:i}=e.item.grid0user?e.item.grid0user:{gridID:null};i&&ecs.root[i].saveLocal.save()}}}}};r("data-v-76ed0999");const c={class:"btn-move-0"};s();var g=d(a,[["render",function(r,s,d,a,g,m){const n=e("touch-pan");return t((o(),i("div",c,null,512)),[[n,a.pan,void 0,{mouse:!0,stop:!0}]])}],["__scopeId","data-v-76ed0999"]]);export{g as default};
