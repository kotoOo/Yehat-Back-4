var e=Object.defineProperty,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,s,o)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[s]=o,r=(e,r)=>{for(var i in r||(r={}))s.call(r,i)&&l(e,i,r[i]);if(t)for(var i of t(r))o.call(r,i)&&l(e,i,r[i]);return e};"undefined"!=typeof require&&require;import i from"./Persistence0.d8a2173a.js";import{f as a,g as c,j as n,y as d,t as p,z as m,A as u,o as f,F as v,k as y,x as b,q as k,E as w}from"./index.154289d4.js";import{_ as C}from"./stage2.41e6de3a.js";const j={props:{item:Object,place:String,items:Array,cursor:Number,active:Boolean,selection:Array,scroll:{type:Boolean,default:!0},itemClasses:Object},components:{Persistence0:i},setup(e,{emit:t}){const s=reactive({refs:{}}),o=computed((()=>e.items?e.items.map((e=>ecs.root[e.id])):[])),l=computed((()=>{const t=e.item.drNorton0.panels[e.place].search||"";if(!t.trim())return e.items;const s=e.items.filter((e=>!!~e.caption.toLowerCase().indexOf(t.trim().toLowerCase())));return e.item.drNorton0.panels[e.place].cursor>=s.length&&(e.item.drNorton0.panels[e.place].cursor=s.length-1),s})),r=computed((()=>({whiteSpace:"nowrap"})));return{state:s,cursorTo:e=>{s.refs[e]&&s.refs[e].scrollIntoView({block:"center"})},liveItems:o,itemClick:s=>{core.log(`[DNPanel0 ${e.place}] Clicked ${s.id}`),t("item-click",{panel:e.place,id:s.id})},itemDblClick:s=>{core.log(`[DNPanel0 ${e.place}] Clicked ${s.id}`),t("item-double-click",{panel:e.place,id:s.id})},filteredItems:l,captionStyle:r}}};m("data-v-23cd94a2");const g={class:"col-auto"},h=["onClick","onDblclick"],O={class:"col-auto q-mr-xs"},P={class:"col column no-wrap justify-center"},$={class:"col-auto"};u();var I=C(j,[["render",function(e,t,s,o,l,i){const m=a("Persistence0");return f(),c("div",{class:p(["dn-panel full-height column",{"panel-active":s.active}])},[n("header",g,[d(e.$slots,"header",{},void 0,!0)]),n("div",{class:p(["col",{scroll:s.scroll}]),style:{position:"relative",width:"100%"}},[d(e.$slots,"default",{},(()=>[(f(!0),c(v,null,y(o.filteredItems,((t,l)=>(f(),c("div",{key:l,class:p([r({"panel-item":!0,active:s.cursor===l,selected:!!s.selection&&!!~s.selection.indexOf(t.id)},s.itemClasses),"row no-wrap"]),ref:e=>o.state.refs[l]=e,onClick:e=>o.itemClick(t),onDblclick:e=>o.itemDblClick(t),style:{"user-select":"none"}},[n("div",O,[b(m,{item:o.liveItems[l]},null,8,["item"])]),n("div",P,[n("div",{class:"caption",style:k(o.captionStyle)},w(t.caption),5),d(e.$slots,"payload",{record:t,isActive:s.cursor===l},void 0,!0)])],42,h)))),128))]),{})],2),n("footer",$,[d(e.$slots,"footer",{},void 0,!0)])],2)}],["__scopeId","data-v-23cd94a2"]]);export{I as default};
