var e=Object.defineProperty,t=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(t,i,o)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[i]=o,r=(e,r)=>{for(var s in r||(r={}))i.call(r,s)&&n(e,s,r[s]);if(t)for(var s of t(r))o.call(r,s)&&n(e,s,r[s]);return e};"undefined"!=typeof require&&require;import{i as s}from"./default-00.b9116878.js";import{f as l,l as a,D as c,z as m,A as d,o as y,x as u,j as p,g as f,E as v,q as h,m as g,H as S,v as I,k as b,F as C,t as O,G as k}from"./index.154289d4.js";import{_ as D}from"./stage2.41e6de3a.js";const T={props:{item:Object},setup(e,{emit:n}){const l=ecs.one("Slot0",{id:"f3nCngfCk39OwrbCpcK6C8"}),a=ecs.one("Slot0",{id:"useID",slot0:{autoEject:!0}});onMounted((()=>{ecs.root[e.item.grid0user.gridID].grid0.manage({id:e.item.id,edge:"z"})}));const c=reactive({showDetails:!1,tpFocused:"sunlight",showItemDetails:!1,showItem:null,showTPs:!!core.yehat.superUser}),m=ecs.by((t=>t.located&&t.located.rel===e.item.id));watch(m,(e=>{core.log("[Inventory] Items watched",e.length)}));const d=computed((()=>{const t=Object.keys(e.item.tp0roster.roster).sort(((t,i)=>e.item.tp0roster.roster[i]-e.item.tp0roster.roster[t])),i={};return t.forEach((t=>{i[t]=e.item.tp0roster.roster[t]})),i})),y=computed((()=>e.item.connections.member)),u=computed((()=>e.item.inventory0.inSlot.id?ecs.root[e.item.inventory0.inSlot.id]:null)),p=ecs.byOne((e=>e.id===core.yehat.useIdentity));return{slot0:l,slot1:a,tpCaptions:{sunlight:"SUNLIGHT",moonlight:"MOONLIGHT",hangars:"HANGARS",dryware:"DRYWARE",blame:"BLAME",devotion:"DEVOTION",chickenkiller:"CHICKEN KILLER",fame:"FAME",theta:"THETA",yonda:"YONDA",identity:"IDENTITY",intel:"INTEL",gold:"GOLD",gemstone:"GEMSTONE",waifu:"WAIFU",postulate:"POSTULATE",derelic:"DERELIC",cargo:"CARGO",daddy:"DADDY"},state:c,clickTP:e=>{c.tpFocused=e,c.showDetails=!0},panWidget:t=>{e.item.inventory0.height=(e.item.inventory0.height||640)-t.delta.y,t.isFinal&&e.item.saveLocal.save()},items:m,iconClasses:e=>({icon:!0}),captionStyle:e=>{const t=(e.type||e.meta.type).length>="ENTITYKIND".length;return r({},{fontSize:t?"8px":"16px"})},iconStyle:e=>{const t={background:`url(${e.item.baseIcon?e.item.baseIcon:s}) no-repeat center center`};return r({},t)},rel:y,itemClick:t=>{e.item.inventory0.insert(t)||Quasar.Notify.create("The item is not suitable for that purpose.")},itemToJSON:e=>{const n=e,{c:r}=n,s=((e,n)=>{var r={};for(var s in e)i.call(e,s)&&n.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&t)for(var s of t(e))n.indexOf(s)<0&&o.call(e,s)&&(r[s]=e[s]);return r})(n,["c"]);return JSON.stringify(s,null,2)},sortedRoster:d,isSuperAdmin:core.yehat.auth.isSuperAdmin,inSlot:u,usedIdentity:p,ejectID:()=>{core.yehat.useIdentity=null},core:core,onSlot0Confirm:()=>{e.item.inventory0.inSlot.id?(core.yehat.useIdentity=e.item.inventory0.inSlot.id,Quasar.Notify.create(`Used ID ${u.value.memberCard0.name}`),ecs.root.useID.slot0.insert(e.item.inventory0.inSlot.id),e.item.inventory0.inSlot.id=null):Quasar.Notify.create("Insert Token")}}}};m("data-v-3f4c9e22");const w={style:{}},E=k("Use ID: "),N={key:0,class:"highlight"},A={key:1,class:"highlight none"},j={class:"widget-caption"},x={class:"row q-gutter-sm"},L=["onClick"],R={class:"item-header"},G={key:0,class:"subcaption"};d();var M=D(T,[["render",function(e,t,i,o,n,s){const m=l("BtnResize0"),d=l("Marque0"),k=l("Slot0"),D=l("IDialog0");return y(),a(D,{item:i.item,itemless:"","btn-close":"",class:"inventory-1",style:{marginLeft:"96px"},scroll:!1,cardBodyStyle:{padding:0},overrideTier:i.item.attention0&&i.item.attention0.present?"epic":"proto","click-attention":""},{headerButtons:c((()=>[u(m,{item:i.item,dir:"w"},null,8,["item"]),u(m,{item:i.item,dir:"d"},null,8,["item"])])),header:c((()=>[u(k,{item:o.slot1,style:h({transform:"translateX(-96px) translateY(-96px)"}),"btn-eject":"",animation:"from-s"},{"cover-w":c((({logic0:e})=>[u(d,null,{default:c((()=>[p("div",w,[E,o.slot1.slot0.contains.length?(y(),f("span",N,v(o.slot1.slot0.contains[0].memberCard0.name),1)):(y(),f("span",A,"None"))])])),_:1})])),_:1},8,["item","style"]),u(k,{item:o.slot0,style:h({transform:"translateX(-96px)"}),"in-slot":o.inSlot,"btn-confirm":"",onConfirm:o.onSlot0Confirm},{default:c((({logic0:e})=>[o.inSlot?(y(),a(g(o.inSlot.item.inventoryComponent),{key:0,item:o.inSlot,view:"icon",onClick:t[0]||(t[0]=S((e=>i.item.inventory0.inSlot.id=null),["stop"])),class:"item"},null,8,["item"])):I("",!0)])),_:1},8,["item","style","in-slot","onConfirm"]),p("div",j,"Inventory MK 1 "+v(i.item.id),1)])),default:c((()=>[p("div",x,[(y(!0),f(C,null,b(o.items,((e,t)=>(y(),f("div",{key:`i-${t}`,class:"item col-auto cursor-pointer",onClick:t=>o.itemClick(e),style:h({filter:i.item.inventory0.inSlot.id===e.id?"grayscale(1)":null,opacity:i.item.inventory0.inSlot.id===e.id?.5:null})},[e.item.inventoryComponent?(y(),a(g(e.item.inventoryComponent),{key:0,item:e,view:"inventory"},null,8,["item"])):(y(),f(C,{key:1},[p("header",R,[p("div",{class:"caption",style:h(o.captionStyle(e))},v(e.type),5)]),p("div",{class:O(["icon",r(r({},e.item.iconClasses),o.iconClasses(e))]),style:h(o.iconStyle(e))},null,6),i.item.item.name?(y(),f("div",G,v(e.item.name),1)):I("",!0)],64))],12,L)))),128))])])),_:1},8,["item","overrideTier"])}],["__scopeId","data-v-3f4c9e22"]]);export{M as default};
