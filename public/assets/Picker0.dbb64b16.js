import{f as e,l as t,D as r,o as i,y as o,x as s,g as n,k as a,G as p,E as l,F as u}from"./index.154289d4.js";import{_ as d}from"./stage2.41e6de3a.js";var f=d({props:{query:String,tier:String,nameEP:String,orderBy:String,persistent:Boolean,tierFN:Function},setup(e,{emit:t}){const r=ref(null),i=t=>pure.EPGET(t,e.nameEP);return{items:ecs.byQuery(e.query,{map:t=>({id:t.id,caption:e.nameEP?i(t):pure.itemName(t),tier:t.tier?t.tier.base:"poormans"}),sort:e.orderBy?(t,r)=>{const i=e.orderBy.split(" ");for(let e of i){let i=pure.EPGET(t,e),o=pure.EPGET(r,e);if(void 0===i&&void 0!==o)return 1;if(void 0===o&&void 0!==i)return-1;let s=()=>0;"number"==typeof i&&"number"==typeof o?s=()=>i-o:"string"==typeof i&&"string"==typeof o?s=()=>i.toLowerCase().localeCompare(o.toLowerCase()):"boolean"==typeof i&&"boolean"==typeof o?s=()=>(i?1:0)-(o?1:0):core.log("[Picker 0]Strange types for orderBy clause",i,": "+typeof i,o,": "+typeof o," => No sorting applied.");let n=s();if(n)return n}return 0}:void 0}),itemClick:i=>{t("pick",i.id),e.persistent||r.value.hide()},me:r}}},[["render",function(d,f,m,y,c,g){const E=e("btn0"),k=e("ICard1"),C=e("q-menu");return i(),t(E,{tier:m.tier||"standard"},{default:r((()=>[o(d.$slots,"default"),s(C,{ref:"me",persistent:m.persistent},{default:r((()=>[s(k,{column:""},{default:r((()=>[(i(!0),n(u,null,a(y.items,((e,o)=>(i(),t(E,{key:o,tier:m.tierFN?m.tierFN(e.id):e.tier,onClick:t=>y.itemClick(e)},{default:r((()=>[p(l(e.caption),1)])),_:2},1032,["tier","onClick"])))),128))])),_:1})])),_:1},8,["persistent"])])),_:3},8,["tier"])}]]);export{f as default};
